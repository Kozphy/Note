#sql 

## Source
[正規化](/C91ujxGkQYWdcV_cqTBnyQ)
[正規化 or 反正規化，優缺點一次說明 (jamie-life-coding.site)](https://jamie-life-coding.site/2021/09/database-normalization-pros-cons/)
[Normalization](https://www.youtube.com/watch?v=UrYLYV7WSHM&ab_channel=channel5567)
[1NF, 2NF, 3NF and 4NF](/waLkRbpTQbupbnMBn_yxhw)
[guru99](https://www.guru99.com/database-normalization.html)

## 分割資料表並建立關聯的優點

- 節省儲存空間
- 減少輸入錯誤
- 方便資料修改

## [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#Primary-key-and-Foreign-key "Primary-key-and-Foreign-key")Primary key and Foreign key

- Primary key
    - 具有唯一性，不允許重複
- Foreign key

## [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#Primary-key-and-Foregin-key-%E5%90%8D%E7%A8%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E7%9B%B8%E5%90%8C%E5%97%8E "Primary-key-and-Foregin-key-名稱一定要相同嗎")Primary key and Foregin key 名稱一定要相同嗎?

- 這兩個欄位的資料型別、寬度等屬性必須相同，但`名稱不一定要一樣`。
- Foreign key 中的資料可以重複

## [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#%E8%B3%87%E6%96%99%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7Data-Integrity "資料的完整性Data-Integrity")資料的完整性(Data Integrity)

- 實體完整性 (Entity Integrity)
    - 確保資料表中的紀錄是`唯一`的
- 區域完整性 (Domain Integrity)
    - 確保資料在允許範圍，100 ~ 999
- 參考完整性 (Referential Integrity)
    - 確保相關聯資料表間的資料一致，避免因一個資料表的紀錄改變時，造成另一個資料表的內容變成無效的值。
- 使用者定義的完整性 (User-defined Integrity)
    - 不屬於前三種

## [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#%E8%B3%87%E6%96%99%E8%A1%A8%E7%9A%84%E9%97%9C%E8%81%AF%E7%A8%AE%E9%A1%9E "資料表的關聯種類")資料表的關聯種類

### [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#%E4%B8%80%E5%B0%8D%E4%B8%80%E9%97%9C%E8%81%AF-one-to-one "一對一關聯-one-to-one")一對一關聯 (one-to-one)

- 可將兩個資料表合併成一個資料表

### [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#%E4%B8%80%E5%B0%8D%E5%A4%9A%E9%97%9C%E8%81%AF-one-to-many "一對多關聯-one-to-many")一對多關聯 (one-to-many)

- 甲資料表中的一筆紀錄，可以對應到以資料表中的多筆紀錄

### [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#%E5%A4%9A%E5%B0%8D%E5%A4%9A%E9%97%9C%E8%81%AF-many-to-many "多對多關聯-many-to-many")多對多關聯 (many-to-many)

- 甲資料表的一筆紀錄能夠對應到乙資料表中的多筆紀錄，乙資料表的一筆紀錄能夠對應到甲資料表中的多筆紀錄。
- 多對多通常會將 2 個資料表重新設計，或是在`資料表之間再加上一個資料表`，使兩兩之間成為一對多關聯，以`避免多對多關聯`的情況

## [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%E6%AD%A3%E8%A6%8F%E5%8C%96%E5%88%86%E6%9E%90 "資料庫的正規化分析")資料庫的正規化分析

### [](https://hackmd.io/pE09987kS3SjTPfafiZwLQ#%E4%BD%95%E8%AC%82%E6%AD%A3%E8%A6%8F%E5%8C%96 "何謂正規化")何謂正規化

- 1NF(Normal Form)
- 2NF
- 3NF(Boyce-Codd Normal Form)
- 4NF
- 5NF

通常只要執行到 `BCNF`

## 1st Normal Form
