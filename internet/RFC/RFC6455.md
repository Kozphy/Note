# [source](https://www.rfc-editor.org/rfc/rfc6455.html#section-1.3)

# The WebSocket Protocol
# Abstract
The WebSocket Protocol `enables two-way communication between a client
running untrusted code in a controlled environment to a remote host
that has opted-in to communications from that code`. The security
model used for this is the origin-based security model commonly used by web browsers. `The protocol consists of an opening handshake
followed by basic message framing, layered over TCP`. The goal of this technology is to provide a mechanism for browser-based applications that need two-way communication with servers that does not rely on opening multiple HTTP connections (e.g., using XMLHttpRequest or iframes and long polling).


## 1. Introduce
### 1.2 Protocol Overview
The protocol has two parts: a `handshake` and the `data transfer`.

The handshake `from the client` looks as follows:

        GET /chat HTTP/1.1
        Host: server.example.com
        Upgrade: websocket
        Connection: Upgrade
        Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==
        Origin: http://example.com
        Sec-WebSocket-Protocol: chat, superchat
        Sec-WebSocket-Version: 13

   The handshake `from the server` looks as follows:

        HTTP/1.1 101 Switching Protocols
        Upgrade: websocket
        Connection: Upgrade
        Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=
        Sec-WebSocket-Protocol: chat

Once the client and server have both sent their handshakes, and `if
the handshake was successful, then the data transfer part starts`.

This is a two-way communication channel where each side can, independently from the other, send data at will.

After a successful handshake, clients and servers transfer data back and forth in `conceptual units` referred to in this specification as `"messages"`. 

On the wire, `a message is composed of one or more frames`. The WebSocket message does not necessarily correspond to a particular network layer framing, as a fragmented message may be coalesced or split by an intermediary.

### 1.3 Opening Handshake
The `opening handshake is intended` to be `compatible with HTTP-based
server-side` software and `intermediaries`, so that a single port can be used by both HTTP clients talking to that server and WebSocket clients talking to that server.  `To this end, the WebSocket client's handshake is an HTTP Upgrade request`:
```
  GET /chat HTTP/1.1
        Host: server.example.com
        Upgrade: websocket
        Connection: Upgrade
        Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==
        Origin: http://example.com
        Sec-WebSocket-Protocol: chat, superchat
        Sec-WebSocket-Version: 13
```

`header fields` in the `handshake` may be `sent by the client in any order`, so the order in which different header fields are received is not significant.
## 5. Data Framing
### 5.1 Overview
`In the WebSocket Protocol, data is transmitted using a sequence of
frames`.

To avoid confusing network intermediaries (such as intercepting proxies) and for security reasons that are further discussed in [Section 10.3](#103-attacks-on-infrastructure-masking), `a client MUST mask all frames that it sends to the server` (see [Section 5.3](#53-client-to-server-masking) for further details). 

### 5.3 Client-to-server Masking

### 10.3 Attacks On Infrastructure (Masking)
